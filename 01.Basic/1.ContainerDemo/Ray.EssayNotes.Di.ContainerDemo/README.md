# 容器的使用

用于引入“容器”的概念。

我们在项目首次启动的时候，就将所有需要管理的资源注册到容器中，以后每次使用都不需要自己手动去创建（new）资源，而是从容器中获取。

容器就相当于我们熟悉的工厂（factory），但是除了工厂的生产对象功能外，一般的DI容器还必须拥有管理对象的“生命周期作用域”（LifetimeScope）的功能，即demo中所展示的某范围内单例的功能（资源释放功能这里没有展示）。

框架自带的DI中，IServiceProvider即相当于容器，类似于Autofac中的IContainer的定位。

注意：

demo里的用只是为了引入容器的概念，并不是合格的DI。

这种手动从容器中获取服务的方式，其实是一种Service Locator。

DI应该尽量避免人工的直接从容器中获取实例，而是选择通过框架集成，使用注入的方式，将“依赖”注入到调用方当中。

这里的注入，一般即指的是构造注入、属性注入或方法参数注入。